!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){},function(t,e,i){},function(t,e,i){t.exports={popup:"src-components-popup-popup__popup--231tR","popup-title":"src-components-popup-popup__popup-title--1qc1l","popup-content":"src-components-popup-popup__popup-content--1K5M-",mask:"src-components-popup-popup__mask--16voV"}},function(t,e,i){t.exports={video:"src-components-video-video__video--2oZ8U","video-content":"src-components-video-video__video-content--2rinz","video-controls":"src-components-video-video__video-controls--2Rq2k","video-progress":"src-components-video-video__video-progress--r1hsy","video-progress-now":"src-components-video-video__video-progress-now--20W7b","video-progress-suc":"src-components-video-video__video-progress-suc--1GB5e","video-progress-bar":"src-components-video-video__video-progress-bar--2md0_","video-play":"src-components-video-video__video-play--1Hw1z","video-time":"src-components-video-video__video-time--pZoMa","video-full":"src-components-video-video__video-full--IROtC","video-volume":"src-components-video-video__video-volume--1sBvf","video-volprogress":"src-components-video-video__video-volprogress--1hYX4","video-volprogress-now":"src-components-video-video__video-volprogress-now--2LXoP","video-volprogress-bar":"src-components-video-video__video-volprogress-bar--2nVZU","video-loading":"src-components-video-video__video-loading--9KS3z",changeright:"src-components-video-video__changeright--2irdq","video-rate":"src-components-video-video__video-rate--22Sd8"}},function(t,e,i){"use strict";i.r(e);i(0),i(1);var o=i(2);var n=function(){function t(t){this.settings=t,this.settings=Object.assign({width:"100%",height:"100%",title:"",position:"center",mask:!0,content:function(){}},t),this.init()}return t.prototype.init=function(){this.template(),this.settings.mask&&this.createMask(),this.handle(),this.contentCallback()},t.prototype.template=function(){this.tempContainer=document.createElement("div"),this.tempContainer.style.width=this.settings.width,this.tempContainer.style.height=this.settings.height,this.tempContainer.className=o.popup,this.tempContainer.innerHTML='\n        <div class="'+o["popup-title"]+'">\n          <h3>'+this.settings.title+'<h3>\n          <i class="iconfont iconguanbi"></i>\n        </div>\n        <div class="'+o["popup-content"]+'"></div>\n      ',document.body.appendChild(this.tempContainer),"left"===this.settings.position?(this.tempContainer.style.left=0,this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px"):"right"===this.tempContainer.position?(this.tempContainer.style.right=0,this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px"):(this.tempContainer.style.left=(window.innerWidth-this.tempContainer.offsetWidth)/2+"px",this.tempContainer.style.top=(window.innerHeight-this.tempContainer.offsetHeight)/2+"px")},t.prototype.handle=function(){var t=this;this.tempContainer.querySelector("."+o["popup-title"]+" i").addEventListener("click",(function(){document.body.removeChild(t.tempContainer),t.settings.mask&&document.body.removeChild(t.mask)}))},t.prototype.createMask=function(){this.mask=document.createElement("div"),this.mask.className=o.mask,this.mask.style.width="100%",this.mask.style.height=document.body.offsetHeight+"px",document.body.appendChild(this.mask)},t.prototype.contentCallback=function(){var t=this.tempContainer.querySelector("."+o["popup-content"]);this.settings.content(t)},t}(),s=function(t){return new n(t)};function r(t){var e=(t=Math.round(t))%60;return a(Math.floor(t/60))+":"+a(e)}function a(t){return t<10?"0"+t:""+t}var d=i(3);for(var l=[4,3.5,3,2.5,2,1.75,1.25,1,.75,.5],c=function(){function t(t){this.settings=t,this.canplay=!1,this.settings=Object.assign({width:"100%",height:"100%",autoplay:!1,times:1},t),l.includes(this.settings.times)||(this.settings.times=1),this.init()}return t.prototype.init=function(){this.template(),this.handle()},t.prototype.template=function(){this.tempContainer=document.createElement("div"),this.tempContainer.className=d.video,this.tempContainer.style.width=this.settings.width,this.tempContainer.style.height=this.settings.height;var t=this.settings.poster?'poster="'+this.settings.poster+'"':"",e=l.map((function(t){return'<li data-rate="'+t+'">'+t+"x</li>"})).join("");this.tempContainer.innerHTML='\n      <video class="'+d["video-content"]+'" '+t+' src="'+this.settings.url+'"></video>\n      <i class="iconfont iconxingzhuang '+d["video-loading"]+'"></i>\n      <div class="'+d["video-controls"]+'">\n        <div class="'+d["video-progress"]+'">\n          <div class="'+d["video-progress-now"]+'"></div>\n          <div class="'+d["video-progress-suc"]+'"></div>\n          <div class="'+d["video-progress-bar"]+'"></div>\n        </div>\n        <div class="'+d["video-play"]+'">\n          <i class="iconfont iconbofang"></i>\n        </div>\n        <div class="'+d["video-time"]+'">\n          <span>00:00</span> / <span>00:00</span>\n        </div>\n        <div class="'+d["video-full"]+'">\n          <i class="iconfont iconquanpingzuidahua"></i>\n        </div>\n        <div class="'+d["video-volume"]+'">\n          <i class="iconfont iconnotificationfill"></i>\n          <div class="'+d["video-volprogress"]+'">\n            <div class="'+d["video-volprogress-now"]+'"></div>\n            <div class="'+d["video-volprogress-bar"]+'"></div>\n          </div>\n        </div>\n        <div class="'+d["video-rate"]+'">\n          <span>倍数</span>\n          <ul>'+e+"</ul>\n        </div>\n      </div>\n    ","object"==typeof this.settings.elem?this.settings.elem.appendChild(this.tempContainer):document.querySelector("."+this.settings.elem).appendChild(this.tempContainer)},t.prototype.handle=function(){var t=this;this.videoContent=this.tempContainer.querySelector("."+d["video-content"]),this.videoControls=this.tempContainer.querySelector("."+d["video-controls"]),this.videoPlay=this.tempContainer.querySelector("."+d["video-controls"]+" i"),this.videoFull=this.tempContainer.querySelector("."+d["video-full"]+" i"),this.videoProgress=this.tempContainer.querySelector("."+d["video-progress"]),this.videoProgressTools=this.tempContainer.querySelectorAll("."+d["video-progress"]+" div"),this.videoVolProgress=this.tempContainer.querySelector("."+d["video-volprogress"]),this.videoVolProgressTools=this.tempContainer.querySelectorAll("."+d["video-volprogress"]+" div"),this.videoTimes=this.tempContainer.querySelectorAll("."+d["video-time"]+" span"),this.notification=this.tempContainer.querySelector("."+d["video-volume"]+" i"),this.playbackRateEl=this.tempContainer.querySelector("."+d["video-rate"]),this.playbackRateSpanEl=this.tempContainer.querySelector("."+d["video-rate"]+" span"),this.playbackRateULEl=this.tempContainer.querySelector("."+d["video-rate"]+" ul"),this.canplay=!1,this.videoContent.volume=.5,this.videoContent.playbackRate=this.settings.times,this.settings.autoplay&&(this.timer=window.setInterval(this.playing.bind(this),1e3),this.videoContent.play()),this.tempContainer.addEventListener("mouseenter",(function(){t.videoControls.style.bottom="0"})),this.tempContainer.addEventListener("mouseleave",(function(){t.videoControls.style.bottom="-50px"})),this.videoContent.addEventListener("loadstart",(function(){t.loadingFinish(!1)})),this.videoContent.addEventListener("canplay",(function(){t.videoTimes[1].innerHTML=r(t.videoContent.duration),t.canplay=!0,t.loadingFinish(!0)})),this.videoContent.addEventListener("play",(function(){t.videoPlay.className="iconfont iconzantingtingzhi",t.timer=window.setInterval(t.playing.bind(t),1e3)})),this.videoContent.addEventListener("pause",(function(){t.videoPlay.className="iconfont iconbofang",window.clearInterval(Number(t.timer))})),this.videoContent.addEventListener("click",(function(){t.playAndPause()})),this.videoPlay.addEventListener("click",(function(){t.playAndPause()})),this.videoFull.addEventListener("click",(function(){t.videoContent.requestFullscreen()})),this.clickDragProgress(),this.clickDragVolProgress(),this.rateTitle(this.settings.times),this.rateShowOption(!1),this.rateClick()},t.prototype.loadingFinish=function(t){this.tempContainer.querySelector("."+d["video-loading"]).style.display=t?"none":"inline-block"},t.prototype.playing=function(){if(this.canplay){var t=this.videoContent.currentTime/this.videoContent.duration,e=this.videoContent.buffered.end(0)/this.videoContent.duration;this.videoTimes[0].innerHTML=r(this.videoContent.currentTime),this.videoProgressTools[0].style.width=100*t+"%",this.videoProgressTools[1].style.width=100*e+"%",this.videoProgressTools[2].style.left=100*t+"%"}},t.prototype.clickDragProgress=function(){var t=this;this.clickProgress(this.videoProgress,(function(e){i(e),t.loadingFinish(!1)})),this.dragProgress(this.videoProgressTools[2],(function(t){i(t)}),(function(){t.loadingFinish(!1)}));var e=this;function i(t){e.videoProgressTools[0].style.width=100*t+"%",e.videoProgressTools[1].style.width=100*t+"%",e.videoProgressTools[2].style.left=100*t+"%",e.videoContent.currentTime=t*e.videoContent.duration,e.videoTimes[0].innerHTML=r(e.videoContent.currentTime)}},t.prototype.clickDragVolProgress=function(){this.clickProgress(this.videoVolProgress,(function(t){e(t)})),this.dragProgress(this.videoVolProgressTools[1],(function(t){e(t)}));var t=this;function e(e){t.videoVolProgressTools[0].style.width=100*e+"%",t.videoVolProgressTools[1].style.left=100*e+"%",t.videoContent.volume=e,t.notificationLow(e<=0)}},t.prototype.dragProgress=function(t,e,i){var o=this;t.addEventListener("mousedown",(function(n){if(o.canplay){var s=n.pageX,r=t.offsetLeft;document.onmousemove=function(i){var o=(i.pageX-s+r+8)/t.parentElement.offsetWidth;o<0&&(o=0),o>1&&(o=1),e(o)},document.onmouseup=function(){document.onmousemove=document.onmouseup=null,i&&i()},n.preventDefault()}}))},t.prototype.clickProgress=function(t,e){var i=this;t.addEventListener("click",(function(o){if(i.canplay){var n=(o.pageX-t.getBoundingClientRect().left)/t.offsetWidth;n<0&&(n=0),n>1&&(n=1),e(n),o.preventDefault()}}))},t.prototype.playAndPause=function(){this.videoContent.paused?this.videoContent.play():this.videoContent.pause()},t.prototype.notificationLow=function(t){this.notification.className=t?"iconfont iconnotificationforbidfill":"iconfont iconnotificationfill"},t.prototype.rateTitle=function(t){this.playbackRateSpanEl.innerText="倍数 "+t+"x"},t.prototype.rateShowOption=function(t){this.playbackRateULEl.style.display=t?"block":"none"},t.prototype.rateClick=function(){var t=this;this.playbackRateSpanEl.addEventListener("click",(function(){t.rateShowOption(!0)})),this.playbackRateULEl.addEventListener("click",(function(e){if(t.canplay){var i=e.target.dataset;if(i&&i.rate){var o=t.videoContent.playbackRate,n=Number(i.rate);l.includes(n)&&n!==o&&(t.videoContent.playbackRate=n,t.rateShowOption(!1),t.rateTitle(n))}}}))},t}(),p=function(t){return new c(t)},v=document.querySelectorAll("#list li"),h=0;h<v.length;h++)v[h].addEventListener("click",(function(){var t=this.dataset.url,e=this.dataset.title;s({width:"880px",height:"550px",title:e,position:"center",content:function(e){p({url:t,elem:e,autoplay:!0})}})}))}]);